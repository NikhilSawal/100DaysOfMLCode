---
title: "R Data types and Data structures"
author: "Nikhil Sawal"
date: "August 11, 2018"
output:
  html_document: default
  pdf_document: default
---

# 1. Data Types

### 1.1 Numberic [floating point values]
```{r}
a <- 2.2
```
### 1.2 Integer
```{r}
b <- 2
```

### 1.3 Logical [True/False]
```{r}
c <- TRUE
```

### 1.4 Characters [String]
##### Can use single or double quotes ["" / ""]
```{r}
d <- "Hello World!"
```  


# 2. Function class() - Checks Datatype
```{r}
class(a)
class(b)
class(c)
class(d)
```
**NOTE:** `b`, inspite of being an interger is stored as numeric, because all integers are stored as numeric

# 3. Vector
A vector is a one-dimensional array, that can hold character, logical or numeric data. 
We use the combine funtion to create a vector.

### 3.1 Numeric Vector
```{r}
num <- c(1,2,3,4,5)                # c() represents the combine function

class(num)
```
Since every element in the above vector is numeric the class of `num` is "numeric".  

### 3.2 Character and Boolean vector
```{r}
char <- c("x", "y", "z")
class(char)

bool <- c(T, F)
class(bool)
```  

Key Points about vectors  

* All elements within a vector should be of the **SAME DATA TYPE**
* If the elements belong to some other data type, R will convert their class. This 
  particular situation is referred to as coercion
```{r}
f <- c(TRUE, 1, 4, 5)
print(f)
```
Since the other elements in the vector f are numeric, TRUE is converted to numeric  

* True is converted to 1
* False is converted to 0  

Now,if we check the class of the vector `f`, it should be numeric.
```{r}
class(f)
```


Another example
```{r}
g <- c("afd", 1, 3, 6)
print(g)
class(g)
```
In case of the vector `g`, it is not possible to convert the character "afd" to a 
numeric type, so the other elements are converted to a character data type

### 3.3 Assign names to vector elements using **names()** function
```{r}
temp <- c(32,33,36,42,37,41,33)
names(temp) <- c("Mon", "Tue", "Wed", "Thurs", "Fri", "Sat", "Sun")
print(temp)
```
To make the above code reusable, assign the vector of days to a variable `days`. This would spare a lot of time for productive more work. 
```{r}
days <- c("Mon", "Tue", "Wed", "Thurs", "Fri", "Sat", "Sun")
names(temp) <- days
print(temp)
```
# 4. Vector Operations
### 4.1 Elementwise operations.
```{r}
v1 <- c(1,2,3)
v2 <- c(3,4,5)
```
### 4.2 Elementwise Addition
```{r}
print(v1 + v2)
```
### 4.3 Elementwise Subtraction
```{r}
print(v1 - v2)
```
### 4.4 Elementwise Division
```{r}
print(v1 / v2)
```
### 4.4 Elementwise Multiplication
```{r}
print(v1 * v2)
```

### 4.5 Vector built-in functions
```{r}
sum(v1)              # Returns Sum
mean(v2)             # Returns Mean
sd(v1)               # Returns Standard Deviation
max(v2)              # Returns Maximum
min(v1)              # Returns Minimum
prod(v2)             # Returns Product
length(v1)           # Returns Length
```

# 5. Indexing vector and slicing
```{r}
v1 <- c(1,2,3,4,6)
v2 <- c('a','b','c','d','e')
```

Indexing in R starts at `1`, unlike other programming languages, where it starts at `0`

### 5.1 Index a single element
```{r}
v1[1]
```

### 5.2 To grab the first and second element
```{r}
v1[c(1,2)]
v1[1:2]
```

### 5.3 To get elements in continuous sequence
```{r}
v1[3:5]
```

### 5.4 Indexing using names
```{r}
v <- c(1,2,3,4)
names(v) <- c('w', 'x', 'y', 'z')

v[2]
v['x']
v[c('x','y','z')]
```

### 5.5 Indexing or filtering by comparison or using logical statements

#### 5.5.1 Index all elements greater than 2
```{r}
print(v[v>2])
print(v>2)
```
Notice the difference b/w the above two statements

#### 5.5.2 Comparison operators - Evaluates True/False
```{r}
3 > 4
2 < 9
5 >= 5
2 <= 4
2 == 6
2 !=2
```
**Note:** that `'='` is an assignment operator and **CANNOT** be used for comparison
So, using `'='` for comparison will throw an error.

# 6. Matrix
A matrix is a 2-dimensional data structure which consists of elements of the same data type 

### 6.1 Create Matrix with `matrix()` function
```{r}
vec <- 1:10
matrix(vec)
```
This will create a matrix of 10 rows and 1 column, which is the default setting.

### 6.2 To specify the number of rows or columns, use the `nrow()` or `ncol()` argument respectively.

```{r}
matrix(vec, nrow = 2)
```

The default for filling the elements in a matrix is by columns. To change it to rows,
set the `byrow` argument to `TRUE`
```{r}
matrix(1:12, byrow = T, nrow = 4)
matrix(1:12, byrow = F, nrow = 4)
```
**Notice:** the difference. In the first matrix the elements are filled by rows since we set the `byrow` argument to `TRUE`. In the second matrix, the elements are filled by columns.

Let's do an example of creating a matrix, for the prices of apples and oranges for
weekdays. We start with creating 2 vectors `apples and oranges` and the elements of each vector, would be their prices for that respective weekdays.
```{r}
apples <- c(12, 11, 10, 9, 14)
oranges <- c(6, 9, 7, 11, 8)
```


Using the combine function `c()`, will create a vector
```{r}
prices <- c(apples, oranges)
prices
```

In order to create a matix, we perform the following operations.

```{r}
prices.matrix <- matrix(prices, byrow = T, nrow = 2)
print(prices.matrix)
```

Now, we can use the `colnames()` and `rownames()` function to give names to the columns and rows respectively.

```{r}
days <- c("Mon", "Tue", "Wed", "Thur", "Fri")
fruits <- c("Apples", "Oranges")

colnames(prices.matrix) <- days
rownames(prices.matrix) <- fruits

print(prices.matrix)
```

# 7. Matrix Arithmetic
We first create a matrix, `mat`.
```{r}
mat <- matrix(1:25, byrow = T, nrow = 5)
```

### 7.1 Matrix operations [ELEMENTWISE]
#### 7.1.1 Multiply all the elements by 2

```{r}
mat*2
```

#### 7.1.2 Divide all elements by 2

```{r}
mat/2
```

#### 7.1.3 Power - Square all elements in the matrix

```{r}
mat^2
```

#### 7.1.4 Using the comparison operator will return a matrix of logical values.
```{r}
mat > 14
``` 
#### 7.1.5 For filtering 

```{r}
mat[mat > 15]
```

This will return a vector of all the elements > 15 in the matrix `mat`


#### 7.1.6 Matrix summation [ELEMENTWISE]

```{r}
mat + mat
```

You can perform other operations like multiplication, subtraction, division.

#### 7.1.7 Matrix multiplication

```{r}
mat %*% mat
```
**This is not an element by element multiplication.**

### 7.2 Matrix operations [MATRIX FUNCTIONS]
#### 7.2.1 Sums
```{r}
colSums(prices.matrix)
rowSums(prices.matrix)
```

#### 7.2.2 Means
```{r}
rowMeans(prices.matrix)
colMeans(prices.matrix)
```

#### 7.2.3 `cbind()` and `rbind()` function to add columns and rows to an existing matrix
Let's use the fruit price example to see the application

```{r}
Grapes <- c(13, 14, 11, 10, 10)
fruit.prices <- rbind(prices.matrix, Grapes)
print(fruit.prices)
```

We can add a row that shows the weekly average price of the fruits

```{r}
avg <- rowMeans(fruit.prices)
prices.matrix <- cbind(fruit.prices, avg)
prices.matrix
```


# 8. Matrix Indexing
We start by creating a new matrix `mat`.
```{r}
mat <- matrix(1:20, byrow = T, nrow = 5)
mat
```

### 8.1 Index first row and all columns. Returns a vector

```{r}
mat[1,]
```

### 8.2 Just the Second column

```{r}
mat[,2]
```

### 8.3 First two rows and all columns

```{r}
mat[1:2,]
```

### 8.4 Last 2 rows and first 2 columns

```{r}
mat[4:5,1:2]
```



